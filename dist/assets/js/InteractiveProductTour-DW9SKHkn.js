import{j as e}from"./index-BlHbknCh.js";import{r as s,b as a}from"./react-vendor-Cwrr0w9t.js";import"./router-DkIiqpl1.js";import"./helmet-DMV9SWGa.js";const t=({onComplete:t,autoStart:i=!1})=>{const[n,r]=s.useState(i),[c,l]=s.useState(0),[o,d]=s.useState([]),[h,m]=s.useState({}),[p,u]=s.useState([]),[x,v]=s.useState([]),[j,g]=s.useState(!1),[N,b]=s.useState(0),[y,f]=s.useState([]),T=s.useRef(null),S=s.useRef(null),k=s.useRef(null),w=s.useRef(null),_=[{id:"welcome",title:"Welcome to TradeFlows Pro!",description:"The most advanced AI-powered trading platform",type:"modal",interactive:!0,duration:5e3,animation:"fadeInScale",content:e.jsxs("div",{className:"welcome-screen",children:[e.jsx("video",{autoPlay:!0,muted:!0,loop:!0,className:"background-video",children:e.jsx("source",{src:"/videos/trading-hero.mp4",type:"video/mp4"})}),e.jsxs("div",{className:"welcome-content",children:[e.jsx("h1",{className:"animated-title",children:"Welcome to Your Trading Future"}),e.jsx("p",{className:"subtitle",children:"Let's take a personalized journey through TradeFlows Pro"}),e.jsxs("div",{className:"user-questions",children:[e.jsx("h3",{children:"Tell us about yourself:"}),e.jsxs("div",{className:"question-buttons",children:[e.jsx("button",{onClick:()=>M("beginner"),className:"choice-btn",children:"ğŸŒ± I'm new to trading"}),e.jsx("button",{onClick:()=>M("intermediate"),className:"choice-btn",children:"ğŸ“ˆ I have some experience"}),e.jsx("button",{onClick:()=>M("expert"),className:"choice-btn",children:"ğŸš€ I'm an experienced trader"})]})]})]})]}),achievements:["tour_started"]},{id:"live-charts",title:"Real-Time Market Data",description:"Experience lightning-fast charts with millisecond updates",targetElement:".chart-demo",type:"spotlight",interactive:!0,simulation:"liveChart",content:e.jsxs("div",{className:"feature-demo",children:[e.jsx("div",{className:"interactive-chart",id:"tour-chart",children:e.jsx("canvas",{ref:A})}),e.jsxs("div",{className:"chart-controls",children:[e.jsx("button",{onClick:()=>C("up"),children:"ğŸ“ˆ Simulate Rally"}),e.jsx("button",{onClick:()=>C("down"),children:"ğŸ“‰ Simulate Dip"}),e.jsx("button",{onClick:()=>C("volatile"),children:"ğŸ¢ Volatile Market"})]}),e.jsxs("div",{className:"feature-highlights",children:[e.jsxs("div",{className:"highlight-item",children:[e.jsx("span",{className:"icon",children:"âš¡"}),e.jsx("span",{children:"50ms latency"})]}),e.jsxs("div",{className:"highlight-item",children:[e.jsx("span",{className:"icon",children:"ğŸ“Š"}),e.jsx("span",{children:"100+ indicators"})]}),e.jsxs("div",{className:"highlight-item",children:[e.jsx("span",{className:"icon",children:"ğŸ”„"}),e.jsx("span",{children:"Real-time sync"})]})]})]}),aiTip:"Pro tip: Our charts update 20x faster than traditional platforms!",achievements:["chart_interaction"]},{id:"ai-copilot",title:"Your AI Trading Copilot",description:"Meet your personal AI assistant that learns your trading style",type:"interactive-demo",content:e.jsxs("div",{className:"ai-copilot-demo",children:[e.jsxs("div",{className:"ai-avatar",children:[e.jsx("div",{className:"avatar-container",children:e.jsxs("div",{className:"ai-face animated",children:[e.jsxs("div",{className:"eyes",children:[e.jsx("div",{className:"eye left"}),e.jsx("div",{className:"eye right"})]}),e.jsx("div",{className:"mouth speaking"})]})}),e.jsxs("div",{className:"ai-chat",children:[e.jsx("div",{className:"chat-messages",ref:w,children:p.map((s,a)=>e.jsxs("div",{className:`message ${s.type}`,children:[e.jsx("span",{className:"avatar",children:"ğŸ¤–"}),e.jsx("span",{className:"text",children:s.text})]},a))}),e.jsx("input",{type:"text",placeholder:"Ask me anything about trading...",onKeyPress:D,className:"chat-input"})]})]}),e.jsxs("div",{className:"ai-capabilities",children:[e.jsx("h3",{children:"AI Capabilities:"}),e.jsxs("ul",{className:"capability-list",children:[e.jsxs("li",{className:"capability-item","data-animate":"slideIn",children:[e.jsx("span",{className:"icon",children:"ğŸ§ "}),e.jsx("span",{children:"Pattern Recognition"}),e.jsx("span",{className:"badge",children:"ML Powered"})]}),e.jsxs("li",{className:"capability-item","data-animate":"slideIn",children:[e.jsx("span",{className:"icon",children:"ğŸ¯"}),e.jsx("span",{children:"Trade Recommendations"}),e.jsx("span",{className:"badge",children:"95% Accuracy"})]}),e.jsxs("li",{className:"capability-item","data-animate":"slideIn",children:[e.jsx("span",{className:"icon",children:"ğŸ“°"}),e.jsx("span",{children:"News Analysis"}),e.jsx("span",{className:"badge",children:"Real-time"})]}),e.jsxs("li",{className:"capability-item","data-animate":"slideIn",children:[e.jsx("span",{className:"icon",children:"âš ï¸"}),e.jsx("span",{children:"Risk Management"}),e.jsx("span",{className:"badge",children:"Advanced"})]})]})]})]}),achievements:["met_ai_copilot","asked_ai_question"]},{id:"collaborative-trading",title:"Trade Together, Win Together",description:"Join live trading rooms with experts and peers",type:"immersive-video",content:e.jsxs("div",{className:"trading-room-preview",children:[e.jsx("video",{ref:k,className:"room-video",controls:!1,children:e.jsx("source",{src:"/videos/trading-room-demo.mp4",type:"video/mp4"})}),e.jsxs("div",{className:"room-overlay",children:[e.jsxs("div",{className:"live-participants",children:[e.jsx("h4",{children:"Live Now:"}),e.jsx("div",{className:"participant-bubbles",children:$().map((s,a)=>e.jsxs("div",{className:"participant","data-tooltip":s.name,children:[e.jsx("img",{src:s.avatar,alt:s.name}),e.jsx("span",{className:"status-dot online"})]},a))}),e.jsx("span",{className:"participant-count",children:"+247 traders online"})]}),e.jsxs("div",{className:"room-features",children:[e.jsxs("div",{className:"feature voice-chat",children:[e.jsx("span",{className:"icon",children:"ğŸ¤"}),e.jsx("span",{children:"Voice Chat"})]}),e.jsxs("div",{className:"feature screen-share",children:[e.jsx("span",{className:"icon",children:"ğŸ–¥ï¸"}),e.jsx("span",{children:"Screen Share"})]}),e.jsxs("div",{className:"feature live-trades",children:[e.jsx("span",{className:"icon",children:"ğŸ’¹"}),e.jsx("span",{children:"Live Trades"})]})]})]}),e.jsx("button",{className:"try-room-btn",onClick:I,children:"ğŸš€ Try Trading Room"})]}),achievements:["explored_trading_room"]},{id:"automated-strategies",title:"Automated Trading Strategies",description:"Set it and forget it with our AI-powered automation",type:"interactive-builder",content:e.jsxs("div",{className:"strategy-builder",children:[e.jsx("h3",{children:"Build Your Strategy:"}),e.jsxs("div",{className:"builder-interface",children:[e.jsxs("div",{className:"conditions-panel",children:[e.jsx("h4",{children:"When:"}),e.jsxs("div",{className:"condition-blocks",children:[e.jsxs("div",{className:"block draggable",draggable:!0,onDragStart:L,children:["ğŸ“ˆ Price increases by",e.jsx("input",{type:"number",defaultValue:"5",className:"inline-input"}),"%"]}),e.jsxs("div",{className:"block draggable",draggable:!0,onDragStart:L,children:["ğŸ“Š RSI is above",e.jsx("input",{type:"number",defaultValue:"70",className:"inline-input"})]}),e.jsx("div",{className:"block draggable",draggable:!0,onDragStart:L,children:"ğŸ“° Positive news sentiment"})]})]}),e.jsxs("div",{className:"actions-panel",children:[e.jsx("h4",{children:"Then:"}),e.jsx("div",{className:"action-blocks",onDrop:E,onDragOver:R,children:e.jsx("div",{className:"block-placeholder",children:"Drop conditions here"})}),e.jsxs("div",{className:"action-options",children:[e.jsx("button",{className:"action-btn",children:"ğŸ’° Buy"}),e.jsx("button",{className:"action-btn",children:"ğŸ’¸ Sell"}),e.jsx("button",{className:"action-btn",children:"ğŸ”” Alert Me"})]})]})]}),e.jsxs("div",{className:"strategy-preview",children:[e.jsx("h4",{children:"Your Strategy:"}),e.jsx("div",{className:"preview-text",children:W()}),e.jsx("button",{className:"test-strategy-btn",children:"âš¡ Backtest Strategy"})]})]}),achievements:["created_first_strategy"]},{id:"performance-analytics",title:"Track Your Success",description:"Advanced analytics to improve your trading",type:"data-visualization",content:e.jsxs("div",{className:"analytics-showcase",children:[e.jsxs("div",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card animate-count",children:[e.jsx("span",{className:"value","data-target":"247",children:"0"}),e.jsx("span",{className:"label",children:"Win Rate %"}),e.jsx("div",{className:"mini-chart",children:e.jsx("svg",{viewBox:"0 0 100 40",children:e.jsx("path",{d:"M0,30 Q25,10 50,20 T100,5",stroke:"#00ff88",fill:"none",strokeWidth:"2"})})})]}),e.jsxs("div",{className:"metric-card animate-count",children:[e.jsx("span",{className:"value","data-target":"1847",children:"0"}),e.jsx("span",{className:"label",children:"Total Trades"}),e.jsx("div",{className:"mini-chart",children:e.jsx("svg",{viewBox:"0 0 100 40",children:e.jsx("path",{d:"M0,35 L20,30 L40,20 L60,25 L80,10 L100,15",stroke:"#4a90e2",fill:"none",strokeWidth:"2"})})})]}),e.jsxs("div",{className:"metric-card animate-count",children:[e.jsxs("span",{className:"value",children:["$",e.jsx("span",{"data-target":"52847",children:"0"})]}),e.jsx("span",{className:"label",children:"Total Profit"}),e.jsx("div",{className:"mini-chart",children:e.jsx("svg",{viewBox:"0 0 100 40",children:e.jsx("path",{d:"M0,40 Q30,20 60,25 T100,10",stroke:"#ffd700",fill:"none",strokeWidth:"2"})})})]})]}),e.jsxs("div",{className:"advanced-charts",children:[e.jsxs("div",{className:"heatmap",children:[e.jsx("h4",{children:"Performance Heatmap"}),e.jsx("div",{className:"heatmap-grid",children:q()})]}),e.jsxs("div",{className:"comparison-chart",children:[e.jsx("h4",{children:"You vs Market"}),e.jsx("canvas",{ref:O})]})]})]}),achievements:["viewed_analytics"]},{id:"pricing",title:"Choose Your Plan",description:"Start your journey with our special offer",type:"interactive-pricing",content:e.jsxs("div",{className:"pricing-showcase",children:[e.jsx("div",{className:"limited-offer",children:e.jsxs("div",{className:"countdown-timer",children:[e.jsx("span",{className:"timer-label",children:"Limited Time Offer Ends In:"}),e.jsxs("div",{className:"timer-display",children:[e.jsxs("span",{className:"time-unit",children:[e.jsx("span",{className:"value",children:Y().hours}),e.jsx("span",{className:"label",children:"Hours"})]}),e.jsx("span",{className:"separator",children:":"}),e.jsxs("span",{className:"time-unit",children:[e.jsx("span",{className:"value",children:Y().minutes}),e.jsx("span",{className:"label",children:"Minutes"})]}),e.jsx("span",{className:"separator",children:":"}),e.jsxs("span",{className:"time-unit",children:[e.jsx("span",{className:"value",children:Y().seconds}),e.jsx("span",{className:"label",children:"Seconds"})]})]})]})}),e.jsxs("div",{className:"pricing-cards",children:[e.jsxs("div",{className:"pricing-card starter",children:[e.jsx("h3",{children:"Starter"}),e.jsxs("div",{className:"price",children:[e.jsx("span",{className:"currency",children:"$"}),e.jsx("span",{className:"amount",children:"29"}),e.jsx("span",{className:"period",children:"/month"})]}),e.jsxs("ul",{className:"features",children:[e.jsx("li",{children:"âœ… Real-time charts"}),e.jsx("li",{children:"âœ… Basic indicators"}),e.jsx("li",{children:"âœ… Mobile app"})]}),e.jsx("button",{className:"select-plan-btn",children:"Start Free Trial"})]}),e.jsxs("div",{className:"pricing-card pro featured",children:[e.jsx("div",{className:"badge",children:"MOST POPULAR"}),e.jsx("h3",{children:"Pro"}),e.jsxs("div",{className:"price",children:[e.jsx("span",{className:"currency",children:"$"}),e.jsx("span",{className:"amount",children:"79"}),e.jsx("span",{className:"period",children:"/month"}),e.jsx("div",{className:"discount",children:"Save $240/year"})]}),e.jsxs("ul",{className:"features",children:[e.jsx("li",{children:"âœ… Everything in Starter"}),e.jsx("li",{children:"âœ… AI Trading Copilot"}),e.jsx("li",{children:"âœ… Automated strategies"}),e.jsx("li",{children:"âœ… Trading rooms"}),e.jsx("li",{children:"âœ… Advanced analytics"})]}),e.jsx("button",{className:"select-plan-btn primary",children:"Start Free Trial"})]}),e.jsxs("div",{className:"pricing-card enterprise",children:[e.jsx("h3",{children:"Enterprise"}),e.jsx("div",{className:"price",children:e.jsx("span",{className:"amount",children:"Custom"})}),e.jsxs("ul",{className:"features",children:[e.jsx("li",{children:"âœ… Everything in Pro"}),e.jsx("li",{children:"âœ… Dedicated support"}),e.jsx("li",{children:"âœ… Custom integrations"}),e.jsx("li",{children:"âœ… White label options"})]}),e.jsx("button",{className:"select-plan-btn",children:"Contact Sales"})]})]})]}),achievements:["viewed_pricing","tour_completed"]}],M=e=>{m(s=>({...s,experience:e})),u("beginner"===e?[{type:"ai",text:"Great! I'll guide you through everything step by step."},{type:"ai",text:"Let's start with the basics and build your confidence!"}]:"intermediate"===e?[{type:"ai",text:"Perfect! Let me show you our advanced features."},{type:"ai",text:"You'll love our AI-powered tools!"}]:[{type:"ai",text:"Excellent! Let's dive into our pro features."},{type:"ai",text:"I'll show you how to maximize your trading potential!"}]),d(s=>[...s,e]),setTimeout(()=>J(),2e3)},A=e=>{if(!e)return;const s=e.getContext("2d");let a=0;const t=()=>{s.clearRect(0,0,e.width,e.height);const i=F(20);i.forEach((e,t)=>{t<a&&B(s,e,t)}),a<i.length&&(a+=.5,requestAnimationFrame(t))};t()},C=e=>{const s=document.querySelector("#tour-chart canvas");if(!s)return;const a=s.getContext("2d");let t=0;const i=()=>{a.clearRect(0,0,s.width,s.height),F(20).forEach((s,i)=>{const n=t/60;"up"===e?(s.high*=1+.1*n,s.close*=1+.08*n):"down"===e?(s.low*=1-.1*n,s.close*=1-.08*n):(s.high*=1+.05*Math.sin(.5*t),s.low*=1-.05*Math.sin(.5*t)),B(a,s,i)}),t<60&&(t++,requestAnimationFrame(i))};i(),z("market_simulator")},D=e=>{if("Enter"===e.key&&e.target.value.trim()){const s=e.target.value;u(e=>[...e,{type:"user",text:s}]),setTimeout(()=>{const e=P(s);u(s=>[...s,{type:"ai",text:e}]),w.current&&(w.current.scrollTop=w.current.scrollHeight)},1e3),e.target.value="",z("chatted_with_ai")}},P=e=>{const s={price:"Our Pro plan at $79/month includes all AI features, real-time data, and unlimited trading rooms!",features:"Key features include AI copilot, automated strategies, real-time collaboration, and advanced analytics.",demo:"You can start a 14-day free trial right now! No credit card required.",trading:"I can help you with strategy optimization, risk management, and market analysis!",default:"That's a great question! Our platform is designed to help traders at all levels succeed."};return s[Object.keys(s).find(s=>e.toLowerCase().includes(s))]||s.default},I=()=>{const e=document.createElement("div");e.className="trading-room-simulation",e.innerHTML='\n      <div class="room-container">\n        <div class="room-header">\n          <h2>Live Trading Room - Demo</h2>\n          <button class="close-btn">âœ•</button>\n        </div>\n        <div class="room-content">\n          <div class="video-grid">\n            <div class="video-tile main">\n              <video autoplay muted></video>\n              <span class="name-tag">You</span>\n            </div>\n            <div class="video-tile">\n              <div class="avatar-placeholder">JD</div>\n              <span class="name-tag">John Doe (Host)</span>\n            </div>\n            <div class="video-tile">\n              <div class="avatar-placeholder">SM</div>\n              <span class="name-tag">Sarah Miller</span>\n            </div>\n          </div>\n          <div class="chat-panel">\n            <div class="chat-messages">\n              <div class="message">\n                <strong>John:</strong> SPY looking bullish above 450\n              </div>\n              <div class="message">\n                <strong>Sarah:</strong> Agreed, volume confirming the move\n              </div>\n              <div class="message highlight">\n                <strong>AI Alert:</strong> ğŸš¨ Unusual options activity detected in AAPL\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ',document.body.appendChild(e),e.querySelector(".close-btn").addEventListener("click",()=>{e.remove(),z("tried_trading_room")}),navigator.mediaDevices.getUserMedia({video:!0}).then(s=>{e.querySelector("video").srcObject=s,e.querySelector(".close-btn").addEventListener("click",()=>{s.getTracks().forEach(e=>e.stop())})}).catch(e=>{})},L=e=>{e.dataTransfer.setData("text/plain",e.target.innerText),e.target.classList.add("dragging")},R=e=>{e.preventDefault(),e.currentTarget.classList.add("drag-over")},E=e=>{e.preventDefault();const s=e.dataTransfer.getData("text/plain"),a=document.createElement("div");a.className="block placed",a.innerText=s,e.currentTarget.appendChild(a),e.currentTarget.classList.remove("drag-over"),z("built_strategy")},W=()=>{const e=document.querySelectorAll(".action-blocks .block");return 0===e.length?"Drag conditions to build your strategy":`When ${Array.from(e).map(e=>e.innerText).join(" AND ")}, execute selected action.`},$=()=>["Alex Chen","Maria Garcia","James Wilson","Emma Thompson","David Kim"].map(e=>({name:e,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e}`})),q=()=>{const s=["Mon","Tue","Wed","Thu","Fri"],a=Array.from({length:10},(e,s)=>`${9+s}:00`);return e.jsxs("table",{className:"heatmap-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),s.map(s=>e.jsx("th",{children:s},s))]})}),e.jsx("tbody",{children:a.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a}),s.map(s=>{const a=Math.random(),t=`rgba(0, 255, 136, ${a})`;return e.jsxs("td",{style:{backgroundColor:t},children:[Math.round(100*a),"%"]},s)})]},a))})]})},O=e=>{if(!e)return;const s=e.getContext("2d");let a=0;const t=()=>{s.clearRect(0,0,e.width,e.height),s.strokeStyle="#333",s.lineWidth=.5;for(let t=0;t<=10;t++){const i=e.height/10*t;s.beginPath(),s.moveTo(0,i),s.lineTo(e.width*(a/100),i),s.stroke()}s.lineWidth=2,s.strokeStyle="#00ff88",s.beginPath(),s.moveTo(0,.8*e.height);for(let t=0;t<=a;t++){const a=e.height*(.8-t/100*.5+.05*Math.sin(.1*t));s.lineTo(e.width/100*t,a)}s.stroke(),s.strokeStyle="#4a90e2",s.beginPath(),s.moveTo(0,.7*e.height);for(let t=0;t<=a;t++){const a=e.height*(.7-t/100*.1);s.lineTo(e.width/100*t,a)}s.stroke(),a<100&&(a+=2,requestAnimationFrame(t))};t()},Y=()=>{const e=Date.parse("2024-12-31")-Date.parse(new Date),s=Math.floor(e/1e3%60),a=Math.floor(e/1e3/60%60);return{hours:Math.floor(e/36e5%24).toString().padStart(2,"0"),minutes:a.toString().padStart(2,"0"),seconds:s.toString().padStart(2,"0")}},F=e=>{const s=[];let a=100;for(let t=0;t<e;t++){const e=a,t=e+5*(Math.random()-.5),i=Math.max(e,t)+2*Math.random(),n=Math.min(e,t)-2*Math.random();s.push({open:e,high:i,low:n,close:t}),a=t}return s},B=(e,s,a)=>{const t=20*a+10,i=e.canvas.height,n=i/150,r=e=>i-e*n;e.strokeStyle=s.close>s.open?"#00ff88":"#ff4444",e.lineWidth=1,e.beginPath(),e.moveTo(t+7.5,r(s.high)),e.lineTo(t+7.5,r(s.low)),e.stroke(),e.fillStyle=s.close>s.open?"#00ff88":"#ff4444";const c=Math.abs(r(s.close)-r(s.open)),l=r(Math.max(s.open,s.close));e.fillRect(t,l,15,c||1)},z=e=>{y.includes(e)||(f(s=>[...s,e]),H(e))},H=e=>{const s={tour_started:{icon:"ğŸ¯",title:"Tour Started!",points:10},chart_interaction:{icon:"ğŸ“Š",title:"Chart Master!",points:20},met_ai_copilot:{icon:"ğŸ¤–",title:"AI Friend!",points:30},asked_ai_question:{icon:"ğŸ’¬",title:"Curious Trader!",points:15},explored_trading_room:{icon:"ğŸ‘¥",title:"Team Player!",points:25},created_first_strategy:{icon:"ğŸ®",title:"Strategy Builder!",points:40},viewed_analytics:{icon:"ğŸ“ˆ",title:"Data Driven!",points:20},viewed_pricing:{icon:"ğŸ’",title:"Ready to Trade!",points:30},tour_completed:{icon:"ğŸ†",title:"Tour Champion!",points:100},market_simulator:{icon:"ğŸ¢",title:"Market Mover!",points:25},built_strategy:{icon:"ğŸ”§",title:"Strategy Architect!",points:35},tried_trading_room:{icon:"ğŸ¥",title:"Social Trader!",points:30},chatted_with_ai:{icon:"ğŸ—¨ï¸",title:"AI Conversationalist!",points:20}}[e];if(!s)return;const a=document.createElement("div");a.className="achievement-notification",a.innerHTML=`\n      <div class="achievement-content">\n        <span class="achievement-icon">${s.icon}</span>\n        <div class="achievement-text">\n          <div class="achievement-title">${s.title}</div>\n          <div class="achievement-points">+${s.points} points</div>\n        </div>\n      </div>\n    `,document.body.appendChild(a),setTimeout(()=>{a.classList.add("show")},100),setTimeout(()=>{a.classList.remove("show"),setTimeout(()=>a.remove(),300)},3e3)},J=()=>{c<_.length-1?(l(e=>e+1),b((c+1)/_.length*100),v(e=>{var s;return[...e,{step:_[c].id,timestamp:Date.now(),duration:Date.now()-((null==(s=e[e.length-1])?void 0:s.timestamp)||Date.now())}]})):K()},V=()=>{c>0&&(l(e=>e-1),b((c-1)/_.length*100))},G=()=>{r(!1),t&&t({skipped:!0})},K=()=>{z("tour_completed");const e=U();Q({completed:!0,steps:o,interactions:x,achievements:y,engagementScore:e,personalization:h}),r(!1),t&&t({completed:!0,engagementScore:e,achievements:y})},U=()=>{const e=10*y.length,s=x.reduce((e,s)=>e+Math.min(s.duration/1e3,60),0);return Math.round(e+s)},Q=e=>{window.gtag&&window.gtag("event","tour_completed",{engagement_score:e.engagementScore,achievements_count:e.achievements.length,user_experience:e.personalization.experience}),fetch("/api/tour-analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch(e=>{})};return n?a.createPortal((()=>{const s=_[c];return s?e.jsxs("div",{className:"tour-overlay",ref:T,children:[e.jsx("div",{className:"tour-backdrop",onClick:G}),"spotlight"===s.type&&e.jsx("div",{className:"spotlight",ref:S}),e.jsxs("div",{className:`tour-content ${s.type}`,children:[e.jsxs("div",{className:"tour-header",children:[e.jsxs("div",{className:"step-indicator",children:["Step ",c+1," of ",_.length]}),e.jsx("button",{className:"close-btn",onClick:G,children:"âœ•"})]}),e.jsxs("div",{className:"tour-body",children:[e.jsx("h2",{className:"tour-title",children:s.title}),e.jsx("p",{className:"tour-description",children:s.description}),e.jsx("div",{className:"tour-interactive-content",children:s.content}),s.aiTip&&e.jsxs("div",{className:"ai-tip",children:[e.jsx("span",{className:"ai-icon",children:"ğŸ’¡"}),e.jsx("span",{className:"tip-text",children:s.aiTip})]})]}),e.jsxs("div",{className:"tour-footer",children:[e.jsx("div",{className:"tour-progress",children:e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${N}%`}})})}),e.jsxs("div",{className:"tour-actions",children:[e.jsx("button",{className:"tour-btn secondary",onClick:V,disabled:0===c,children:"Previous"}),e.jsx("button",{className:"tour-btn primary",onClick:J,children:c===_.length-1?"Get Started":"Next"})]})]})]}),y.length>0&&e.jsxs("div",{className:"achievements-tracker",children:[e.jsx("span",{className:"tracker-label",children:"Achievements:"}),e.jsx("div",{className:"achievement-badges",children:y.slice(-5).map((s,a)=>e.jsx("span",{className:"badge-icon",children:"ğŸ†"},a))}),e.jsxs("span",{className:"points-total",children:[20*y.length," points"]})]})]}):null})(),document.body):e.jsx("button",{className:"start-tour-btn",onClick:()=>r(!0),children:"ğŸ¯ Start Interactive Tour"})};export{t as default};
