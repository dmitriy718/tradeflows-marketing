import{j as e}from"./index-BlHbknCh.js";import{r as t,b as s}from"./react-vendor-Cwrr0w9t.js";import"./router-DkIiqpl1.js";import"./helmet-DMV9SWGa.js";const a=({embedded:a=!1,onTradeComplete:n})=>{const[i,r]=t.useState(a),[o,l]=t.useState(1e4),[c,d]=t.useState([]),[m,h]=t.useState({}),[p,u]=t.useState("AAPL"),[v,f]=t.useState("market"),[x,g]=t.useState(1),[b,y]=t.useState(0),[j,N]=t.useState([]),[k,M]=t.useState([]),[S,T]=t.useState([]),[C,P]=t.useState(null),[w,$]=t.useState([]),[A,R]=t.useState([]),[E,F]=t.useState(null),[I,L]=t.useState("candlestick"),[q,D]=t.useState(["SMA","RSI"]),[B,O]=t.useState([]),[H,W]=t.useState(!1),[Y,G]=t.useState(300),z=t.useRef(null),U=t.useRef(null),V=t.useRef(null),J=[{ticker:"AAPL",name:"Apple Inc.",sector:"Technology"},{ticker:"TSLA",name:"Tesla Inc.",sector:"Automotive"},{ticker:"GOOGL",name:"Alphabet Inc.",sector:"Technology"},{ticker:"AMZN",name:"Amazon.com Inc.",sector:"E-Commerce"},{ticker:"MSFT",name:"Microsoft Corp.",sector:"Technology"},{ticker:"NVDA",name:"NVIDIA Corp.",sector:"Semiconductors"},{ticker:"META",name:"Meta Platforms",sector:"Social Media"},{ticker:"BTC",name:"Bitcoin",sector:"Cryptocurrency"},{ticker:"ETH",name:"Ethereum",sector:"Cryptocurrency"},{ticker:"SPY",name:"S&P 500 ETF",sector:"Index Fund"}];t.useEffect(()=>(i&&(_(),Z(),K(),he(),me()),()=>{U.current&&U.current.close(),V.current&&cancelAnimationFrame(V.current)}),[i]);const _=()=>{const e={};J.forEach(t=>{e[t.ticker]=Q(t.ticker)}),h(e),y(e[p]);const t=X(p,100);N(t);const s=localStorage.getItem("tradingSimulatorProgress");if(s){const e=JSON.parse(s);l(e.balance||1e4),d(e.portfolio||[]),M(e.trades||[]),$(e.achievements||[])}},Z=()=>{U.current={send:e=>{},close:()=>{},readyState:1};const e=setInterval(()=>{i?ee():clearInterval(e)},1e3)},K=()=>{const e=()=>{z.current&&(te(),updateIndicators(),V.current=requestAnimationFrame(e))};e()},Q=e=>({AAPL:175+10*Math.random(),TSLA:250+20*Math.random(),GOOGL:140+10*Math.random(),AMZN:130+10*Math.random(),MSFT:380+15*Math.random(),NVDA:480+30*Math.random(),META:320+20*Math.random(),BTC:45e3+2e3*Math.random(),ETH:2500+200*Math.random(),SPY:450+10*Math.random()}[e]||100+50*Math.random()),X=(e,t)=>{const s=[];let a=Q(e);for(let n=0;n<t;n++){const i=e.includes("BTC")||e.includes("ETH")?.03:.01,r=a,o=a+(Math.random()-.5)*i*a,l=Math.max(r,o)+Math.random()*i*a,c=Math.min(r,o)-Math.random()*i*a,d=Math.round(1e6+5e6*Math.random());s.push({timestamp:Date.now()-6e4*(t-n),open:r,high:l,low:c,close:o,volume:d}),a=o}return s},ee=()=>{h(e=>{const t={...e};return Object.keys(t).forEach(e=>{const s=e.includes("BTC")||e.includes("ETH")?.005:.002,a=(Math.random()-.5)*s;t[e]=t[e]*(1+a)}),t}),y(e=>{const t=p.includes("BTC")||p.includes("ETH")?.005:.002,s=e*(1+(Math.random()-.5)*t);return N(e=>{var t;const a={timestamp:Date.now(),open:(null==(t=e[e.length-1])?void 0:t.close)||s,high:1.001*s,low:.999*s,close:s,volume:Math.round(1e6+5e6*Math.random())};return[...e.slice(-99),a]}),Se(s),s}),Me(),Math.random()<.1&&ce()},te=()=>{const e=z.current;if(!e)return;const t=e.getContext("2d"),s=e.width,a=e.height;t.fillStyle="#0a0e27",t.fillRect(0,0,s,a),Pe(t,s,a),"candlestick"===I?se(t,s,a):"line"===I?we(t,s,a):"area"===I&&$e(t,s,a),q.forEach(e=>{ae(t,s,a,e)}),Ae(t,s,a),Re(t,s,a)},se=(e,t,s)=>{const a=j.slice(-50);if(0===a.length)return;const n=t/50,i=Math.max(...a.map(e=>e.high)),r=Math.min(...a.map(e=>e.low)),o=i-r;a.forEach((t,a)=>{const r=a*n+n/2,l=t.close>t.open?"#00ff88":"#ff4444";e.strokeStyle=l,e.lineWidth=1,e.beginPath(),e.moveTo(r,(i-t.high)/o*s*.7),e.lineTo(r,(i-t.low)/o*s*.7),e.stroke(),e.fillStyle=l;const c=(i-Math.max(t.open,t.close))/o*s*.7,d=Math.abs(t.close-t.open)/o*s*.7;e.fillRect(r-.3*n,c,.6*n,d||1)})},ae=(e,t,s,a)=>{if("SMA"===a){const a=20,n=ne(j.slice(-50),a);e.strokeStyle="#4a90e2",e.lineWidth=2,e.beginPath(),n.forEach((n,i)=>{const r=(i+a)*(t/50),o=(Math.max(...j.slice(-50).map(e=>e.high))-n)/(Math.max(...j.slice(-50).map(e=>e.high))-Math.min(...j.slice(-50).map(e=>e.low)))*s*.7;0===i?e.moveTo(r,o):e.lineTo(r,o)}),e.stroke()}else if("RSI"===a){const a=ie(j.slice(-50)),n=.2*s,i=.75*s;e.fillStyle="rgba(74, 144, 226, 0.1)",e.fillRect(0,i,t,n),e.strokeStyle="rgba(255, 255, 255, 0.2)",e.lineWidth=1,e.setLineDash([5,5]),e.beginPath(),e.moveTo(0,i+.3*n),e.lineTo(t,i+.3*n),e.stroke(),e.beginPath(),e.moveTo(0,i+.7*n),e.lineTo(t,i+.7*n),e.stroke(),e.setLineDash([]),e.strokeStyle="#ffd700",e.lineWidth=2,e.beginPath(),a.forEach((s,a)=>{const r=a*(t/50),o=i+n*(1-s/100);0===a?e.moveTo(r,o):e.lineTo(r,o)}),e.stroke()}},ne=(e,t)=>{const s=[];for(let a=t-1;a<e.length;a++){const n=e.slice(a-t+1,a+1).reduce((e,t)=>e+t.close,0);s.push(n/t)}return s},ie=e=>{const t=[];for(let a=1;a<e.length;a++)t.push(e[a].close-e[a-1].close);const s=[];for(let a=14;a<t.length;a++){const e=t.slice(a-14,a).filter(e=>e>0),n=t.slice(a-14,a).filter(e=>e<0),i=e.length>0?e.reduce((e,t)=>e+t,0)/14:0,r=n.length>0?Math.abs(n.reduce((e,t)=>e+t,0)/14):0,o=100-100/(1+(0===r?100:i/r));s.push(o)}return s},re=e=>{const t=b,s=t*x,a=.001*s;if("buy"===e)if(o>=s+a){l(e=>e-s-a);const e=c.find(e=>e.symbol===p);e?(e.quantity+=x,e.averagePrice=(e.averagePrice*(e.quantity-x)+t*x)/e.quantity,d([...c])):d(e=>[...e,{symbol:p,quantity:x,averagePrice:t,currentPrice:t}]);const n={id:Date.now(),type:"buy",symbol:p,quantity:x,price:t,commission:a,timestamp:new Date};M(e=>[...e,n]),be(`Bought ${x} ${p} at $${t.toFixed(2)}`,"success"),oe("buy",n),ge()}else be("Insufficient funds!","error");else if("sell"===e){const e=c.find(e=>e.symbol===p);if(e&&e.quantity>=x){const s=t*x-a,n=e.averagePrice*x,i=s-n;l(e=>e+s),e.quantity===x?d(e=>e.filter(e=>e.symbol!==p)):(e.quantity-=x,d([...c]));const r={id:Date.now(),type:"sell",symbol:p,quantity:x,price:t,profit:i,commission:a,timestamp:new Date};M(e=>[...e,r]);const o=i>0?`+$${i.toFixed(2)}`:`-$${Math.abs(i).toFixed(2)}`;be(`Sold ${x} ${p} at $${t.toFixed(2)} (${o})`,i>0?"success":"warning"),oe("sell",r),H&&Te(),ge()}else be(`You don't own enough ${p}!`,"error")}},oe=(e,t)=>{const s=[];0===k.length&&s.push({id:"first_trade",title:"First Trade!",description:"Executed your first trade",icon:"ðŸŽ¯"}),t.profit>0&&s.push({id:"profitable_trade",title:"Profit Maker!",description:"Made a profitable trade",icon:"ðŸ’°"}),k.length>=9&&s.push({id:"day_trader",title:"Day Trader!",description:"Executed 10 trades",icon:"ðŸ“ˆ"}),new Set(k.map(e=>e.symbol)).size>=5&&s.push({id:"diversified",title:"Diversified!",description:"Traded 5 different symbols",icon:"ðŸŒ"}),s.forEach(e=>{w.some(t=>t.id===e.id)||($(t=>[...t,e]),le(e))})},le=e=>{const t=document.createElement("div");t.className="achievement-popup",t.innerHTML=`\n      <div class="achievement-content">\n        <span class="achievement-icon">${e.icon}</span>\n        <div>\n          <div class="achievement-title">${e.title}</div>\n          <div class="achievement-desc">${e.description}</div>\n        </div>\n      </div>\n    `,document.body.appendChild(t),setTimeout(()=>{t.classList.add("show")},100),setTimeout(()=>{t.remove()},3e3)},ce=()=>{const e=Math.random(),t=50+50*Math.random(),s=["1 hour","4 hours","1 day"][Math.floor(3*Math.random())],a={direction:e>.5?"bullish":"bearish",confidence:t.toFixed(1),targetPrice:b*(e>.5?1.02:.98),timeframe:s,reasoning:de(e>.5)};F(a)},de=e=>{const t=["Strong momentum indicators","Breakout above resistance","Positive market sentiment","High volume confirmation","Bullish chart pattern forming"],s=["Overbought conditions","Resistance at current levels","Declining volume","Bearish divergence detected","Support level breakdown"];return e?t[Math.floor(Math.random()*t.length)]:s[Math.floor(Math.random()*s.length)]},me=()=>{const e=[{title:"{symbol} Reports Record Earnings",impact:"positive"},{title:"Analysts Upgrade {symbol} to Buy",impact:"positive"},{title:"{symbol} Announces New Product Launch",impact:"positive"},{title:"{symbol} Faces Regulatory Scrutiny",impact:"negative"},{title:"Market Volatility Impacts {symbol}",impact:"neutral"},{title:"{symbol} CEO Announces Expansion Plans",impact:"positive"},{title:"Breaking: {symbol} Partnership Announced",impact:"positive"},{title:"{symbol} Stock Under Pressure",impact:"negative"}],t=[];for(let s=0;s<5;s++){const a=e[Math.floor(Math.random()*e.length)],n=J[Math.floor(Math.random()*J.length)];t.push({id:Date.now()+s,title:a.title.replace("{symbol}",n.name),impact:a.impact,time:`${Math.floor(60*Math.random())} min ago`,symbol:n.ticker})}R(t),setTimeout(()=>{i&&me()},3e4)},he=async()=>{const e=[{rank:1,name:"TradeMaster",profit:15234,winRate:78},{rank:2,name:"BullRunner",profit:12847,winRate:72},{rank:3,name:"AlphaTrader",profit:10923,winRate:69},{rank:4,name:"MarketWizard",profit:9234,winRate:71},{rank:5,name:"ProfitHunter",profit:8123,winRate:65}];T(e);const t=pe(),s=e.findIndex(e=>e.profit<t)+1||e.length+1;P(s)},pe=()=>k.filter(e=>"sell"===e.type).reduce((e,t)=>e+(t.profit||0),0)+c.reduce((e,t)=>e+(t.quantity*(m[t.symbol]||t.currentPrice)-t.quantity*t.averagePrice),0),ue=()=>{W(!0),G(300),l(1e4),d([]),M([]),be("Competition started! You have 5 minutes to maximize profits!","info");const e=setInterval(()=>{G(t=>t<=1?(clearInterval(e),ve(),0):t-1)},1e3)},ve=()=>{W(!1);const e=pe(),t=xe();fe({profit:e,winRate:t,trades:k.length,rank:C}),Ce(e,t)},fe=e=>{const t=document.createElement("div");t.className="competition-results-modal",t.innerHTML=`\n      <div class="results-content">\n        <h2>Competition Complete!</h2>\n        <div class="results-stats">\n          <div class="stat">\n            <span class="label">Final Profit:</span>\n            <span class="value ${e.profit>0?"positive":"negative"}">\n              $${e.profit.toFixed(2)}\n            </span>\n          </div>\n          <div class="stat">\n            <span class="label">Win Rate:</span>\n            <span class="value">${e.winRate}%</span>\n          </div>\n          <div class="stat">\n            <span class="label">Total Trades:</span>\n            <span class="value">${e.trades}</span>\n          </div>\n          <div class="stat">\n            <span class="label">Your Rank:</span>\n            <span class="value">#${e.rank}</span>\n          </div>\n        </div>\n        <button class="close-btn">Continue Trading</button>\n      </div>\n    `,document.body.appendChild(t),t.querySelector(".close-btn").addEventListener("click",()=>{t.remove()})},xe=()=>{const e=k.filter(e=>"sell"===e.type);if(0===e.length)return 0;const t=e.filter(e=>e.profit>0);return Math.round(t.length/e.length*100)},ge=()=>{const e={balance:o,portfolio:c,trades:k,achievements:w};localStorage.setItem("tradingSimulatorProgress",JSON.stringify(e))},be=(e,t)=>{const s=document.createElement("div");s.className=`trading-notification ${t}`,s.textContent=e,document.body.appendChild(s),setTimeout(()=>{s.classList.add("show")},100),setTimeout(()=>{s.remove()},3e3)},ye=()=>e.jsxs("div",{className:"trading-simulator "+(a?"embedded":"fullscreen"),children:[!a&&e.jsx("button",{className:"close-simulator",onClick:()=>r(!1),children:"âœ•"}),e.jsxs("div",{className:"simulator-header",children:[e.jsx("h2",{children:"ðŸŽ® Live Trading Simulator"}),e.jsxs("div",{className:"account-info",children:[e.jsxs("span",{className:"balance",children:["Balance: $",o.toFixed(2)]}),e.jsxs("span",{className:"total-value",children:["Total: $",(o+je()).toFixed(2)]}),e.jsxs("span",{className:"profit "+(pe()>=0?"positive":"negative"),children:["P&L: $",pe().toFixed(2)]})]}),H&&e.jsxs("div",{className:"competition-timer",children:["â±ï¸ ",Math.floor(Y/60),":",(Y%60).toString().padStart(2,"0")]})]}),e.jsxs("div",{className:"simulator-content",children:[e.jsxs("div",{className:"left-panel",children:[e.jsxs("div",{className:"symbol-selector",children:[e.jsx("select",{value:p,onChange:e=>{u(e.target.value),N(X(e.target.value,100))},children:J.map(t=>e.jsxs("option",{value:t.ticker,children:[t.ticker," - ",t.name]},t.ticker))}),e.jsxs("div",{className:"current-price",children:["$",b.toFixed(2),e.jsxs("span",{className:ke()>=0?"up":"down",children:[ke()>=0?"â–²":"â–¼"," ",Math.abs(ke()).toFixed(2),"%"]})]})]}),e.jsxs("div",{className:"chart-container",children:[e.jsxs("div",{className:"chart-controls",children:[e.jsx("button",{className:"candlestick"===I?"active":"",onClick:()=>L("candlestick"),children:"Candles"}),e.jsx("button",{className:"line"===I?"active":"",onClick:()=>L("line"),children:"Line"}),e.jsx("button",{className:"area"===I?"active":"",onClick:()=>L("area"),children:"Area"})]}),e.jsx("canvas",{ref:z,width:600,height:400,className:"price-chart"}),e.jsxs("div",{className:"indicator-toggles",children:[e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:q.includes("SMA"),onChange:e=>{e.target.checked?D([...q,"SMA"]):D(q.filter(e=>"SMA"!==e))}}),"SMA"]}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:q.includes("RSI"),onChange:e=>{e.target.checked?D([...q,"RSI"]):D(q.filter(e=>"RSI"!==e))}}),"RSI"]})]})]}),e.jsxs("div",{className:"trading-panel",children:[e.jsxs("div",{className:"order-type-selector",children:[e.jsx("button",{className:"market"===v?"active":"",onClick:()=>f("market"),children:"Market Order"}),e.jsx("button",{className:"limit"===v?"active":"",onClick:()=>f("limit"),children:"Limit Order"})]}),e.jsxs("div",{className:"quantity-selector",children:[e.jsx("button",{onClick:()=>g(Math.max(1,x-1)),children:"-"}),e.jsx("input",{type:"number",value:x,onChange:e=>g(Math.max(1,parseInt(e.target.value)||1))}),e.jsx("button",{onClick:()=>g(x+1),children:"+"})]}),e.jsxs("div",{className:"trade-buttons",children:[e.jsxs("button",{className:"buy-btn",onClick:()=>re("buy"),children:["Buy ",x," @ $",b.toFixed(2)]}),e.jsxs("button",{className:"sell-btn",onClick:()=>re("sell"),children:["Sell ",x," @ $",b.toFixed(2)]})]}),e.jsxs("div",{className:"quick-amounts",children:[e.jsx("button",{onClick:()=>g(1),children:"1"}),e.jsx("button",{onClick:()=>g(5),children:"5"}),e.jsx("button",{onClick:()=>g(10),children:"10"}),e.jsx("button",{onClick:()=>g(25),children:"25"}),e.jsx("button",{onClick:()=>g(100),children:"100"})]})]})]}),e.jsxs("div",{className:"right-panel",children:[E&&e.jsxs("div",{className:"ai-prediction",children:[e.jsx("h3",{children:"ðŸ¤– AI Analysis"}),e.jsxs("div",{className:`prediction ${E.direction}`,children:[e.jsx("span",{className:"direction",children:E.direction.toUpperCase()}),e.jsxs("span",{className:"confidence",children:[E.confidence,"% confident"]})]}),e.jsxs("div",{className:"prediction-details",children:[e.jsxs("p",{children:["Target: $",E.targetPrice.toFixed(2)]}),e.jsxs("p",{children:["Timeframe: ",E.timeframe]}),e.jsxs("p",{children:["Reason: ",E.reasoning]})]})]}),e.jsxs("div",{className:"portfolio-section",children:[e.jsx("h3",{children:"ðŸ“Š Portfolio"}),0===c.length?e.jsx("p",{className:"empty-portfolio",children:"No positions yet"}):e.jsx("div",{className:"portfolio-list",children:c.map(t=>e.jsxs("div",{className:"position-item",children:[e.jsxs("div",{className:"position-header",children:[e.jsx("span",{className:"symbol",children:t.symbol}),e.jsxs("span",{className:"quantity",children:[t.quantity," shares"]})]}),e.jsxs("div",{className:"position-details",children:[e.jsxs("span",{children:["Avg: $",t.averagePrice.toFixed(2)]}),e.jsxs("span",{children:["Current: $",(m[t.symbol]||t.currentPrice).toFixed(2)]}),e.jsxs("span",{className:Ne(t)>=0?"profit":"loss",children:[Ne(t)>=0?"+":"",Ne(t).toFixed(2)]})]})]},t.symbol))})]}),e.jsxs("div",{className:"news-section",children:[e.jsx("h3",{children:"ðŸ“° Market News"}),e.jsx("div",{className:"news-list",children:A.map(t=>e.jsxs("div",{className:`news-item ${t.impact}`,children:[e.jsx("span",{className:"news-time",children:t.time}),e.jsx("span",{className:"news-title",children:t.title}),t.symbol&&e.jsx("span",{className:"news-symbol",children:t.symbol})]},t.id))})]}),e.jsxs("div",{className:"leaderboard-section",children:[e.jsx("h3",{children:"ðŸ† Leaderboard"}),!H&&e.jsx("button",{className:"compete-btn",onClick:ue,children:"Start 5-Min Competition"}),e.jsxs("div",{className:"leaderboard-list",children:[S.map(t=>e.jsxs("div",{className:"leader-item",children:[e.jsxs("span",{className:"rank",children:["#",t.rank]}),e.jsx("span",{className:"name",children:t.name}),e.jsxs("span",{className:"profit",children:["$",t.profit]}),e.jsxs("span",{className:"win-rate",children:[t.winRate,"%"]})]},t.rank)),C&&e.jsxs("div",{className:"your-rank",children:[e.jsxs("span",{className:"rank",children:["#",C]}),e.jsx("span",{className:"name",children:"You"}),e.jsxs("span",{className:"profit",children:["$",pe().toFixed(0)]}),e.jsxs("span",{className:"win-rate",children:[xe(),"%"]})]})]})]}),e.jsxs("div",{className:"achievements-section",children:[e.jsx("h3",{children:"ðŸ… Achievements"}),e.jsx("div",{className:"achievements-grid",children:w.map(t=>e.jsx("div",{className:"achievement-badge",title:t.description,children:e.jsx("span",{className:"achievement-icon",children:t.icon})},t.id))})]})]})]}),e.jsxs("div",{className:"trade-history",children:[e.jsx("h3",{children:"ðŸ“œ Recent Trades"}),e.jsx("div",{className:"trades-list",children:k.slice(-5).reverse().map(t=>e.jsxs("div",{className:`trade-item ${t.type}`,children:[e.jsx("span",{className:"trade-type",children:t.type.toUpperCase()}),e.jsx("span",{className:"trade-symbol",children:t.symbol}),e.jsxs("span",{className:"trade-quantity",children:[t.quantity,"x"]}),e.jsxs("span",{className:"trade-price",children:["$",t.price.toFixed(2)]}),void 0!==t.profit&&e.jsxs("span",{className:"trade-profit "+(t.profit>=0?"positive":"negative"),children:[t.profit>=0?"+":"",t.profit.toFixed(2)]})]},t.id))})]})]}),je=()=>c.reduce((e,t)=>{const s=m[t.symbol]||t.currentPrice;return e+t.quantity*s},0),Ne=e=>e.quantity*(m[e.symbol]||e.currentPrice)-e.quantity*e.averagePrice,ke=()=>{var e;if(j.length<2)return 0;const t=(null==(e=j[j.length-2])?void 0:e.close)||b;return(b-t)/t*100},Me=()=>{d(e=>e.map(e=>({...e,currentPrice:m[e.symbol]||e.currentPrice})))},Se=e=>{B.forEach(t=>{t.symbol===p&&("above"===t.type&&e>t.price||"below"===t.type&&e<t.price)&&be(`ðŸ”” Alert: ${p} is ${t.type} ${t.price}`,"info")})},Te=()=>{pe()},Ce=(e,t)=>{const s={profit:e,winRate:t,trades:k.length,timestamp:Date.now()};fetch("/api/simulator/leaderboard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).catch(e=>{})},Pe=(e,t,s)=>{e.strokeStyle="rgba(255, 255, 255, 0.05)",e.lineWidth=1;for(let a=0;a<t;a+=50)e.beginPath(),e.moveTo(a,0),e.lineTo(a,s),e.stroke();for(let a=0;a<s;a+=50)e.beginPath(),e.moveTo(0,a),e.lineTo(t,a),e.stroke()},we=(e,t,s)=>{const a=j.slice(-50);if(0===a.length)return;e.strokeStyle="#00ff88",e.lineWidth=2,e.beginPath();const n=Math.max(...a.map(e=>e.high)),i=Math.min(...a.map(e=>e.low)),r=n-i;a.forEach((a,i)=>{const o=i/50*t,l=(n-a.close)/r*s*.7;0===i?e.moveTo(o,l):e.lineTo(o,l)}),e.stroke()},$e=(e,t,s)=>{const a=j.slice(-50);if(0===a.length)return;const n=Math.max(...a.map(e=>e.high)),i=Math.min(...a.map(e=>e.low)),r=n-i,o=e.createLinearGradient(0,0,0,.7*s);o.addColorStop(0,"rgba(0, 255, 136, 0.4)"),o.addColorStop(1,"rgba(0, 255, 136, 0)"),e.fillStyle=o,e.beginPath(),e.moveTo(0,.7*s),a.forEach((a,i)=>{const o=i/50*t,l=(n-a.close)/r*s*.7;e.lineTo(o,l)}),e.lineTo(t,.7*s),e.closePath(),e.fill(),we(e,t,s)},Ae=(e,t,s)=>{const a=j.slice(-50).map(e=>e.volume);if(0===a.length)return;const n=Math.max(...a),i=t/50,r=.15*s,o=.98*s-r;a.forEach((t,s)=>{const a=s*i,l=t/n*r;e.fillStyle="rgba(74, 144, 226, 0.3)",e.fillRect(a,o+(r-l),i-1,l)})},Re=(e,t,s)=>{const a=j.slice(-50);if(0===a.length)return;const n=Math.max(...a.map(e=>e.high)),i=Math.min(...a.map(e=>e.low)),r=(n-b)/(n-i)*s*.7;e.strokeStyle="#ffd700",e.lineWidth=1,e.setLineDash([5,5]),e.beginPath(),e.moveTo(0,r),e.lineTo(t,r),e.stroke(),e.setLineDash([]),e.fillStyle="#ffd700",e.fillRect(t-80,r-12,80,24),e.fillStyle="#0a0e27",e.font="12px monospace",e.textAlign="right",e.fillText(`$${b.toFixed(2)}`,t-5,r+4)};return e.jsxs("div",{className:"trading-simulator-container",children:[!i&&!a&&e.jsx("button",{className:"open-simulator-btn",onClick:()=>r(!0),children:"ðŸŽ® Try Live Trading Simulator"}),i&&(a?ye():s.createPortal(ye(),document.body))]})};export{a as default};
